{% extends 'admin_dashboard.html' %}
{% block content %}
<style>
    body { font-family: Arial, Helvetica, sans-serif; }
    * { box-sizing: border-box; }

    .container {
        border-radius: 5px;
        background-color: #f2f2f2;
        padding: 20px;
        max-width: 900px; /* Adjust width */
        margin: auto;
    }

    .form-grid {
    display: flex;  /* Change from grid to flex for better alignment */
    justify-content: space-between;
    gap: 20px;
}

.form-column {
    flex: 1; /* Ensures equal width for both columns */
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* Ensure divider takes full height */
.divider {
    width: 2px;
    background: #ccc;
    align-self: stretch;
}



    input[type=text], input[type=email], input[type=password], input[type=number], input[type=date], 
    input[type=file], select, textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        margin-top: 5px;
    }

    input[type=submit] {
        background-color: #04AA6D;
        color: white;
        padding: 12px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        width: 100%;
    }

    input[type=submit]:hover {
        background-color: #45a049;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .form-grid {
            grid-template-columns: 1fr; /* Switch to single column on smaller screens */
        }
        .divider {
            display: none;
        }
    }
</style>

<h3>Register</h3>

<div class="container">
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="form-grid">
            <!-- Left Column -->
            <div class="form-column">
                <label for="fname">Full Name</label>
                <input type="text" id="fname" name="name" placeholder="Enter full name.." required>

                <label for="username">Username</label>
                <input type="text" id="username" name="username" required placeholder="Name@TV(1st4mobilenumber)">

                <label for="registration_number">Registration Number</label>
                <input type="text" id="registration_number" name="registration_number" required>

                <label for="email">Email</label>
                <input type="email" id="email" name="email" required>

                <label for="password">Password</label>
                <input type="password" id="password" name="password" required>

                <label for="phone_number">Phone Number</label>
                <input type="text" id="phone_number" name="phone_number" required>

                <label for="address">Address</label>
                <textarea id="address" name="address" required></textarea>
            </div>

            <!-- Vertical Divider -->
            <div class="divider"></div>

            <!-- Right Column -->
            <div class="form-column">
                <label for="dob">Date of Birth</label>
                <input type="date" id="dob" name="dob" required>
                
                <label for="age">Age</label>
                <input type="number" id="age" name="age" readonly>

                <label for="idproof">Id Proof</label>
                <input type="text" id="idproof" name="idproof" required>

                <label for="photo">Upload Photo</label>
                <input type="file" id="photo" name="photo" required>

                <label for="blood_group">Blood Group</label>
                <select id="blood_group" name="blood_group" required>
                    <option value="A+">A+</option>
                    <option value="A-">A-</option>
                    <option value="B+">B+</option>
                    <option value="B-">B-</option>
                    <option value="AB+">AB+</option>
                    <option value="AB-">AB-</option>
                    <option value="O+">O+</option>
                    <option value="O-">O-</option>
                </select>

                <label for="gender">Gender</label>
                <select id="gender" name="gender" required>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>

                <label for="gaurdian_name">Guardian Name</label>
                <input type="text" id="gaurdian_name" name="gaurdian_name" required>

                <label for="relation">Relation with Member</label>
                <select id="relation" name="relation" required>
                    <option value="Father">Father</option>
                    <option value="Mother">Mother</option>
                    <option value="Husband">Husband</option>
                    <option value="Wife">Wife</option>
                    <option value="Brother">Brother</option>
                    <option value="Sister">Sister</option>
                </select>
            </div>
        </div>
<br>
        <input type="submit" value="Register">
    </form>

    <p>Already have an account? <a href="{% url 'login' %}">Login</a></p>
</div>

<script>
    document.getElementById("dob").addEventListener("change", function() {
        const dob = new Date(this.value);
        const today = new Date();
        let age = today.getFullYear() - dob.getFullYear();
        const monthDiff = today.getMonth() - dob.getMonth();
    
        if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < dob.getDate())) {
            age--;
        }
    
        document.getElementById("age").value = age;
    });
</script>

{% endblock %}
